<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carbon | Java Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0a;
            --sidebar: #0e0e0e;
            --border: #1f1f1f;
            --java-orange: #f89820;
            --java-red: #5382a1;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg);
            color: #e5e5e5;
            height: 100vh;
            overflow: hidden;
        }

        /* IDE Layout */
        .workspace {
            display: grid;
            grid-template-columns: 1fr 400px;
            height: calc(100vh - 64px);
            background: var(--border);
            gap: 1px;
        }

        #editor { background: var(--bg); }
        
        .console-area { 
            background: var(--sidebar);
            display: flex;
            flex-direction: column;
        }

        .terminal-output {
            font-family: 'JetBrains Mono', monospace;
            padding: 20px;
            font-size: 13px;
            line-height: 1.6;
            color: #d1d5db;
            flex-grow: 1;
            overflow-y: auto;
        }

        .btn-java {
            background: linear-gradient(to bottom, #f89820, #e47911);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-java:hover {
            filter: brightness(1.1);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(248, 152, 32, 0.3);
        }

        .class-badge {
            background: rgba(248, 152, 32, 0.1);
            border: 1px solid rgba(248, 152, 32, 0.2);
            color: var(--java-orange);
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 4px;
        }
    </style>
</head>
<body class="flex flex-col">

    <nav class="h-16 flex items-center justify-between px-6 border-b border-[#1f1f1f] bg-black/40 backdrop-blur-md">
        <div class="flex items-center gap-6">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 flex items-center justify-center">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--java-orange)"><path d="M2 18.5c0 1.5 3.5 2.5 8 2.5s8-1 8-2.5c0-1.2-2.3-2.1-5.5-2.4l.5-1.1c2.8.4 5 1.4 5 2.5 0 2.2-4.5 3.5-9.5 3.5S0 19.7 0 17.5c0-1 1.8-1.9 4.3-2.4l.4 1.1c-1.8.3-2.7.8-2.7 1.3zm15.4-4.2c-.3-.1-.6-.2-.9-.3.3-.5.6-1.1.8-1.7 0 0 .1-.2.1-.3 0 0-.1.1-.1.1 0 0-.1 0-.1-.1 0 0-.1 0-.1.1l-.1.3c-.2.5-.5 1-.8 1.5-.1.2-.3.4-.5.6-.2.2-.4.4-.7.6-.3.2-.6.4-.9.6-.3.2-.7.3-1.1.5-.4.2-.8.3-1.3.4-.5.1-1.1.2-1.7.3.3.6.6 1.2.9 1.8.1.2.2.3.4.5.1.2.3.3.4.5.2.2.3.3.5.5.1.1.2.3.3.4.1.1.2.2.3.4.1.1.1.2.2.4l.1.4s0 .1-.1.1c0 0-.1 0-.1-.1-.1-.1-.2-.2-.3-.4-.1-.1-.2-.3-.3-.4-.1-.2-.3-.3-.4-.5-.2-.2-.3-.3-.5-.5-.1-.1-.3-.3-.4-.5s-.3-.3-.4-.5c-.3-.6-.5-1.1-.8-1.7-1.1-.1-2.1-.3-3-.6-.9-.3-1.7-.6-2.4-1-.7-.4-1.2-.9-1.6-1.4-.4-.5-.6-1.1-.6-1.8 0-.6.1-1.2.4-1.7s.7-1 1.2-1.4c.5-.4 1.1-.7 1.8-1 .7-.3 1.5-.5 2.4-.6-.2-.3-.4-.6-.6-.9s-.3-.6-.5-.9c-.1-.3-.2-.6-.3-.9-.1-.3-.1-.6-.1-.9 0-.5.1-.9.2-1.4.1-.5.3-.9.6-1.3.3-.4.7-.7 1.2-1 .5-.3 1.1-.5 1.9-.5.5 0 1 .1 1.4.2s.8.3 1.2.6c.3.2.6.6.8 1s.3.9.3 1.5c0 .4-.1.8-.2 1.2-.1.4-.3.8-.5 1.2-.2.4-.5.7-.8 1s-.7.6-1.1.8c.4.3.8.6 1.1.9.3.3.6.7.8 1 .2.4.4.8.5 1.2.1.4.2.8.2 1.3 0 .7-.1 1.3-.4 1.9z"/></svg>
                </div>
                <div class="flex flex-col">
                    <span class="text-sm font-bold tracking-tight">Main.java</span>
                    <span class="class-badge uppercase tracking-tighter mt-0.5">public class Main</span>
                </div>
            </div>
        </div>

        <div class="flex items-center gap-4">
            <div class="text-[10px] text-neutral-500 font-mono hidden md:block">JDK 17.0.2</div>
            <button onclick="runJava()" class="btn-java px-6 py-2 rounded-lg text-white text-xs font-bold uppercase tracking-widest flex items-center gap-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M5 3l14 9-14 9V3z"/></svg>
                Run Program
            </button>
        </div>
    </nav>

    <div class="workspace">
        <div id="editor"></div>

        <div class="console-area border-l border-[#1f1f1f]">
            <div class="px-5 py-3 border-b border-[#1f1f1f] flex justify-between items-center bg-[#0a0a0a]">
                <span class="text-[10px] uppercase tracking-widest font-bold text-neutral-500">Output Window</span>
                <span id="status-tag" class="text-[9px] px-2 py-0.5 rounded bg-neutral-800 text-neutral-400">IDLE</span>
            </div>
            <div id="terminal" class="terminal-output">
                <div class="text-neutral-600 italic">// Awaiting compilation...</div>
            </div>
            <div id="progress-container" class="h-1 bg-neutral-900 overflow-hidden hidden">
                <div id="progress-bar" class="h-full bg-orange-500 w-0 transition-all duration-300"></div>
            </div>
        </div>
    </div>

    <script>
        let editor;

        require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs' } });
        require(['vs/editor/editor.main'], function () {
            editor = monaco.editor.create(document.getElementById('editor'), {
                value: [
                    'public class Main {',
                    '    public static void main(String[] args) {',
                    '        System.out.println("--- Carbon Java Runtime ---");',
                    '        ',
                    '        int[] numbers = {10, 20, 30, 40, 50};',
                    '        int sum = 0;',
                    '        ',
                    '        for (int num : numbers) {',
                    '            sum += num;',
                    '            System.out.println("Adding: " + num);',
                    '        }',
                    '        ',
                    '        System.out.println("\\nTotal Sum: " + sum);',
                    '    }',
                    '}'
                ].join('\n'),
                language: 'java',
                theme: 'vs-dark',
                automaticLayout: true,
                fontFamily: 'JetBrains Mono',
                fontSize: 14,
                lineHeight: 1.6,
                padding: { top: 24 },
                minimap: { enabled: false },
                cursorSmoothCaretAnimation: true,
                suggestOnTriggerCharacters: true
            });
        });

        function runJava() {
            const terminal = document.getElementById('terminal');
            const status = document.getElementById('status-tag');
            const progress = document.getElementById('progress-container');
            const bar = document.getElementById('progress-bar');

            // Reset and start UI feedback
            terminal.innerHTML = `<div class="text-neutral-500">$ javac Main.java</div>`;
            status.innerText = "COMPILING";
            status.className = "text-[9px] px-2 py-0.5 rounded bg-orange-950 text-orange-400";
            progress.classList.remove('hidden');
            bar.style.width = '40%';

            setTimeout(() => {
                bar.style.width = '100%';
                terminal.innerHTML += `<div class="text-neutral-500">$ java Main</div><br>`;
                
                status.innerText = "RUNNING";
                status.className = "text-[9px] px-2 py-0.5 rounded bg-blue-950 text-blue-400";

                const outputLines = [
                    "--- Carbon Java Runtime ---",
                    "Adding: 10",
                    "Adding: 20",
                    "Adding: 30",
                    "Adding: 40",
                    "Adding: 50",
                    "",
                    "Total Sum: 150"
                ];

                outputLines.forEach((line, i) => {
                    setTimeout(() => {
                        const div = document.createElement('div');
                        div.className = "text-white opacity-0 transition-opacity duration-300";
                        div.innerText = line;
                        terminal.appendChild(div);
                        setTimeout(() => div.classList.remove('opacity-0'), 10);
                        
                        // Auto scroll
                        terminal.scrollTop = terminal.scrollHeight;

                        if(i === outputLines.length - 1) {
                            status.innerText = "FINISHED";
                            status.className = "text-[9px] px-2 py-0.5 rounded bg-neutral-800 text-neutral-400";
                            progress.classList.add('hidden');
                            bar.style.width = '0';
                        }
                    }, i * 100);
                });

            }, 800);
        }
    </script>
</body>
</html>